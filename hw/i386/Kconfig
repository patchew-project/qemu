config SEV
    bool
    default y if PC && KVM

config PC
    bool

config PC
    bool
    select ISA_DEBUG
    select I8259
    select I8254
    select PCSPK
    select I82374
    select I8257
    select MC146818RTC

config PC_PCI
    bool
    select APIC
    select IOAPIC
    select APM
    select PC

config PC_ACPI
    bool
    select ACPI_X86
    select ACPI_CPU_HOTPLUG
    select ACPI_MEMORY_HOTPLUG
    select SMBUS_EEPROM
    depends on ACPI_SMBUS

config I440FX
    bool
    select PC_PCI
    select PC_ACPI
    select ACPI_SMBUS
    select PCI_PIIX
    select FDC
    select IDE_PIIX
    select DIMM
    select SMBIOS
    select VMPORT
    select VMMOUSE
    select FW_CFG_DMA

config ISAPC
    bool
    select ISA_BUS
    select PC
    select IDE_ISA
    select VGA_ISA
    # FIXME: it is in the same file as i440fx, and does not compile
    # if separated
    depends on I440FX

config Q35
    bool
    select PC_PCI
    select PC_ACPI
    select PCI_EXPRESS_Q35
    select LPC_ICH9
    select AHCI
    select DIMM
    select SMBIOS
    select VMPORT
    select VMMOUSE
    select FW_CFG_DMA

config VTD
    default y if Q35
    bool

config AMD_IOMMU
    default y if Q35
    bool

config VMPORT
    bool

config VMMOUSE
    bool
    depends on VMPORT
