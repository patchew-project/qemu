# -*- Mode: Python -*-
# vim: filetype=python

##
# = Multi-Core Debug (MCD) API
##


##
# == Definition of Structures
##


##
# @MCDAPIVersion:
#
# Structure type containing the MCD API version information of the tool.
#
# @v-api-major: API major version.
# @v-api-minor: API minor version.
# @author:      API name of the author of this MCD API version.
#
# Since: 9.1
##
{ 'struct': 'MCDAPIVersion',
  'data': {
    'v-api-major': 'uint16',
    'v-api-minor': 'uint16',
    'author':      'str' } }


##
# @MCDImplVersionInfo:
#
# Structure type containing the MCD API implementation information.
#
# @v-api:       Implemented API version.
# @v-imp-major: Major version number of this implementation.
# @v-imp-minor: Minor version number of this implementation.
# @v-imp-build: Build number of this implementation.
# @vendor:      Name of vendor of the implementation.
# @date:        String from __DATE__ macro at compile time.
#
# Since: 9.1
##
{ 'struct': 'MCDImplVersionInfo',
  'data': {
    'v-api'      : 'MCDAPIVersion',
    'v-imp-major': 'uint16',
    'v-imp-minor': 'uint16',
    'v-imp-build': 'uint16',
    'vendor'     : 'str',
    'date'       : 'str' } }


##
# @MCDErrorInfo:
#
# Structure type containing the error status and error event notification.
#
# @return-status: Return status from the last API call.
# @error-code:    Detailed error code from the last API call.
# @error-events:  Detailed event code from the last API call.
# @error-str:     Detailed error text string from the last API call.
#
# Since: 9.1
##
{ 'struct': 'MCDErrorInfo',
  'data': {
    'return-status': 'uint32',
    'error-code'   : 'uint32',
    'error-events' : 'uint32',
    'error-str'    : 'str' }}


##
# @MCDServerInfo:
#
# Structure type containing the server information.
#
# @server:          String containing the server name.
# @system-instance: String containing the unique system instance identifier.
# @acc-hw:          String containing the unique device access hardware name.
#
# Since: 9.1
##
{ 'struct': 'MCDServerInfo',
  'data': {
    'server'         : 'str',
    'system-instance': 'str',
    'acc-hw'         : 'str' } }


##
# @MCDCoreConInfo:
#
# Structure type containing the core connection information.
#
# @host:            String containing the IP host name.
# @server-port:     Port number of the server.
# @server-key:      String containing the server key as provided by
#                   mcd_open_server_f().
# @system-key:      String containing the system key as provided by
#                   mcd_open_server_f().
# @device-key:      String containing the device key, optional for
#                   mcd_open_core_f().
# @system:          String containing the system name. Predefined value is
#                   "Real HW" for physical devices. Note that in case of "Real
#                   HW" the @acc-hw always needs to be defined.
# @system-instance: String containing the unique system instance identifier.
#                   Allows to differentiate between several system instances
#                   with the same name. A typical use case is a simulator where
#                   different instances can be distinguished by their process
#                   ID. (For example @system-instance could be: "Process ID:
#                   1234")
# @acc-hw:          String containing the unique device access hardware name.
# @device-type:     Device type identifier (IEEE 1149.1 device ID)
# @device:          String containing the system unique device instance name.
#                   For Real HW this is usually the sales name of the device.
#                   If the access hardware operates a multi device target
#                   system (e.g. over IEEE1149.7), this device string can
#                   contain an index to differentiate between several devices
#                   of the same type.
# @device-id:       Unique device ID.
# @core:            String containing the device unique core name.
# @core-type:       Core type identifier (taken from ELF predefined
#                   architecture)
# @core-id:         Unique core ID representing the core version.
#
# Since: 9.1
##
{ 'struct': 'MCDCoreConInfo',
  'data': {
    'host'           : 'str',
    'server-port'    : 'uint32',
    'server-key'     : 'str',
    'system-key'     : 'str',
    'device-key'     : 'str',
    'system'         : 'str',
    'system-instance': 'str',
    'acc-hw'         : 'str',
    'device-type'    : 'uint32',
    'device'         : 'str',
    'device-id'      : 'uint32',
    'core'           : 'str',
    'core-type'      : 'uint32',
    'core-id'        : 'uint32' } }


##
# @MCDMemspace:
#
# Structure type containing information about a memory space.
#
# @mem-space-id:             ID of this memory space, ID 0 is reserved.
# @mem-space-name:           Unique name of the memory space.
# @mem-type:                 Type of the memory space.
# @bits-per-mau:             Bits per minimum addressable unit (MAU). The
#                            minimum addressable unit of a memory is defined as
#                            the size in bits of its basic block that may have
#                            a unique address. For example for a byte
#                            addressable memory this value would be set to '8'
#                            according to the 8 bits of a byte block.
# @invariance:               The total number of bytes in a memory word, which
#                            is @bits-per-mau divided by 8, consists of groups
#                            of "invariant" bytes. These groups can be arranged
#                            in Big Endian or Little Endian order.
#                            For example an @invariance of '2' and '64'
#                            @bits-per-mau, a Little Endian word are
#                            represented as b0 b1 b2 b3 b4 b5 b6 b7.
#                            In contrast to this, a Big Endian word is
#                            represented as b6 b7 b4 b5 b2 b3 b0 b1.
# @endian:                   Endianness of this memory space. Can be overriden
#                            by @endian of a MCDMemblock.
# @min-addr:                 Minimum address of this memory space.
# @max-addr:                 Maximum address of this memory space.
# @num-mem-blocks:           Number of memory blocks in this memory space. Each
#                            memory space may have a certain number of memory
#                            blocks. Memory blocks contain additional
#                            information pertaining to the intended purpose of
#                            the memory. This information may be used as a hint
#                            for memory data representation within a tool's
#                            memory view. This field specifies the number of
#                            memory blocks present in this memory space.
# @supported-access-options: Supported memory access options (OR'ed bitmask).
#                            Can be overriden by @supported-access-options of a
#                            MCDMemblock.
# @core-mode-mask-read:      Mask of core modes for which read accesses are
#                            impossible. A set bit indicates that read accesses
#                            are denied in this mode. Bit 0 represents core
#                            mode '1', bit 31 represents core mode '32'. Can be
#                            overriden by @core-mode-mask-read of a MCDMemblock.
# @core-mode-mask-write:     Mask of core modes for which write accesses are
#                            impossible; a set bit indicates that write
#                            accesses are denied in this mode. Bit 0 represents
#                            core mode '1', bit 31 represents core mode '32'.
#                            Can be overriden by
#                            @core-mode-mask-write of a MCDMemblock.
#
# Since: 9.1
##
{ 'struct': 'MCDMemspace',
  'data': {
    'mem-space-id'            : 'uint32',
    'mem-space-name'          : 'str',
    'mem-type'                : 'uint32',
    'bits-per-mau'            : 'uint32',
    'invariance'              : 'uint8',
    'endian'                  : 'uint32',
    'min-addr'                : 'uint64',
    'max-addr'                : 'uint64',
    'num-mem-blocks'          : 'uint32',
    'supported-access-options': 'uint32',
    'core-mode-mask-read'     : 'uint32',
    'core-mode-mask-write'    : 'uint32' } }


##
# @MCDRegisterGroup:
#
# Structure type containing register group information.
#
# @reg-group-id:   Contains the ID of this register group. A register group ID
#                  must be unique within the scope of a target core. ID '0' is
#                  reserved.
# @reg-group-name: The name of a register group. A register group name cannot
#                  be longer than MCD_REG_NAME_LEN characters (use
#                  representative names).
# @n-registers:    Number of registers part of this group.
#
# Since: 9.1
##
{ 'struct': 'MCDRegisterGroup',
  'data': {
    'reg-group-id'  : 'uint32',
    'reg-group-name': 'str',
    'n-registers'   : 'uint32' } }


##
# @MCDAddr:
#
# Structure type containing a completely resolved logical or physical memory
# address.
#
# @address:         Address value within a memory space, expressed in bytes.
# @mem-space-id:    ID of the memory space associated with this address, e.g. a
#                   program memory, a data memory or registers .
# @addr-space-id:   ID of the address space in which this address is valid.
# @addr-space-type: Type of the address space in which this address is valid.
#
# Since: 9.1
##
{ 'struct': 'MCDAddr',
  'data': {
    'address'        : 'uint64',
    'mem-space-id'   : 'uint32',
    'addr-space-id'  : 'uint32',
    'addr-space-type': 'uint32' } }


##
# @MCDRegisterInfo:
#
# Structure type containing register information for a single register.
#
# @addr:                   Either the address of a memory mapped register or
#                          the register address in a dedicated
#                          "register memory space"
# @reg-group-id:           ID of the group this register belongs to.
# @regname:                The name of a register. A register name cannot be
#                          longer than MCD_REG_NAME_LEN characters (use
#                          representative names).
# @regsize:                Register size in bits.
# @core-mode-mask-read:    Mask of core modes for which read accesses are
#                          impossible. A set bit indicates that read accesses
#                          are denied in this mode. Bit 0 represents core mode
#                          '1', bit 31 represents core mode 32. Overrides
#                          @core-mode-mask-read of the corresponding
#                          mcd_memspace_st.
# @core-mode-mask-write:   Mask of core modes for which write accesses are
#                          impossible. A set bit indicates that write accesses
#                          are denied in this mode. Bit 0 represents core mode
#                          '1', bit 31 represents core mode '32'. Overrides
#                          @core-mode-mask-write of the corresponding
#                          mcd_memspace_st.
# @side-effects-read:      Reading this register can trigger side effects.
# @side-effects-write:     Writing this register can trigger side effects.
# @reg-type:               Register type (simple, compound or partial)
# @hw-thread-id:           Hardware thread ID this register belongs to. The ID
#                          must be set to '0' if the register is not assigned
#                          to a hardware thread.
#
# Since: 9.1
##
{ 'struct': 'MCDRegisterInfo',
  'data': {
    'addr'                : 'MCDAddr',
    'reg-group-id'        : 'uint32',
    'regname'             : 'str',
    'regsize'             : 'uint32',
    'core-mode-mask-read' : 'uint32',
    'core-mode-mask-write': 'uint32',
    'side-effects-read'   : 'bool',
    'side-effects-write'  : 'bool',
    'reg-type'            : 'uint32',
    'hw-thread-id'        : 'uint32' } }


##
# == Target Initialization API
##


##
# @MCDInitializeResult:
#
# Return value of @mcd-initialize.
#
# @return-status: Return code.
#
# @impl-info: Information about the QEMU build, its version and the version of
#             the implemented MCD API.
#
# Since: 9.1
##
{ 'struct': 'MCDInitializeResult',
  'data': {
    'return-status': 'uint32',
    '*impl-info'   : 'MCDImplVersionInfo' } }


##
# @mcd-initialize:
#
# Function initializing the interaction between a tool-side implementation and
# target-side implementation.
#
# @version-req: MCD API version as requested by an upper layer.
#
# Returns: @MCDInitializeResult
#
# Since: 9.1
#
# .. qmp-example::
#    :title: Check compatibility with MCD server
#
#     -> { "execute": "mcd-initialize",
#          "arguments": { "version-req": { "v-api-major": 1,
#                                          "v-api-minor": 1,
#                                          "author": "" } } }
#     <- {
#            "return": {
#                "impl-info": {
#                    "v-api": {
#                        "v-api-minor": 1,
#                        "v-api-major": 1,
#                        "author": "QEMU Release"
#                    },
#                    "vendor": "QEMU",
#                    "v-imp-minor": 2,
#                    "v-imp-major": 9,
#                    "v-imp-build": 0,
#                    "date": "Dec 18 2024"
#                },
#                "return-status": 0
#            }
#        }
##
{ 'command': 'mcd-initialize',
  'data': { 'version-req': 'MCDAPIVersion' },
  'returns': 'MCDInitializeResult' }


##
# @mcd-exit:
#
# Function cleaning up all core and server connections from a tool.
#
# Since: 9.1
##
{ 'command': 'mcd-exit' }


##
# == Server Connection API
##


##
# @MCDQryServersResult:
#
# Return value of @mcd-qry-servers.
#
# @return-status: Return code.
# @num-servers:   The number of returned servers. In case the input value of
#                 @num-servers is '0', this is the number of all available
#                 servers.
# @server-info:   Server information.
#
# Since: 9.1
##
{ 'struct': 'MCDQryServersResult',
  'data': {
    'return-status': 'uint32',
    '*num-servers' : 'uint32',
    '*server-info' : [ 'MCDServerInfo' ] }}


##
# @mcd-qry-servers:
#
# Function returning a list of available servers.
#
# @host:        String containing the host name.
# @running:     Selects between running and installed servers.
# @start-index: Start index of the queried servers. This refers to an
#               internal list of the target side implementation.
# @num-servers: The number of queried servers starting from the defined
#               @start-index. If it is set to '0', no server descriptions are
#               returned but the number of all available servers.
#
# Returns: @MCDQryServersResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-qry-servers",
#        "arguments": { "host": "",
#                       "running": true,
#                       "start-index": 0,
#                       "num-servers": 0 } }
#    <- {
#           "return": {
#               "num-servers": 1,
#               "return-status": 0
#           }
#       }
#
#    -> { "execute": "mcd-qry-servers",
#         "arguments": { "host": "",
#                        "running": true,
#                        "start-index": 0,
#                        "num-servers": 1 } }
#    <- {
#           "return": {
#               "num-servers": 1,
#               "server-info": [
#                   {
#                       "system-instance": "Process ID: 44801",
#                       "acc-hw": "",
#                       "server": "QEMU"
#                   }
#               ],
#               "return-status": 0
#           }
#       }
##
{ 'command': 'mcd-qry-servers',
  'data': {
    'host'       : 'str',
    'running'    : 'bool',
    'start-index': 'uint32',
    'num-servers': 'uint32' },
  'returns': 'MCDQryServersResult' }


##
# @MCDOpenServerResult:
#
# Return value of @mcd-open-server.
#
# @return-status: Return code.
# @server-uid:    Unique identifier of the server instance.
# @host:          String containing the host name.
# @config-string: Server configuration information.
#
# Since: 9.1
##
{ 'struct': 'MCDOpenServerResult',
  'data': {
    'return-status' : 'uint32',
    '*server-uid'   : 'uint32',
    '*host'         : 'str',
    '*config-string': 'str' } }


##
# @mcd-open-server:
#
# Function opening the connection to a server on a host computer.
#
# @system-key:    A server is claimed by this key when being opened.
# @config-string: Allows the configuration of the server connection by a
#                 character string. Delimiters are blanks, tabs and line
#                 breaks. Value strings are always enclosed with "double
#                 quotes". Bool values can be "TRUE" or "FALSE" (both in
#                 small letters).
#
# Returns: @MCDOpenServerResult
#
# Since: 9.1
#
# .. qmp-example::
#
#    -> { "execute": "mcd-open-server",
#         "arguments": { "system-key": "",
#                        "config-string": "" } }
#    <- {
#           "return": {
#               "config-string": "",
#               "host": "QEMU",
#               "server-uid": 1,
#               "return-status": 0
#           }
#       }
#    -> { "execute": "mcd-open-server",
#         "arguments": { "system-key": "",
#                        "config-string": "" } }
#    <- {
#           "return": {
#               "return-status": 3
#           }
#       }
#    -> { "execute": "mcd-qry-error-info" }
#    <- {
#           "return": {
#               "error-str": "server already open",
#               "error-code": 512,
#               "error-events": 0,
#               "return-status": 3
#           }
#       }
##
{ 'command': 'mcd-open-server',
  'data': {
    'system-key'   : 'str',
    'config-string': 'str' },
  'returns': 'MCDOpenServerResult' }


##
# @MCDCloseServerResult:
#
# Return value of @mcd-close-server.
#
# @return-status: Return code.
#
# Since: 9.1
##
{ 'struct': 'MCDCloseServerResult', 'data': { 'return-status': 'uint32' } }


##
# @mcd-close-server:
#
# Function closing the connection to a debug server on a host computer.
#
# @server-uid: Unique identifier of the open server as returned by
#              @mcd-open-server.
#
# Returns: @MCDCloseServerResult.
#
# Since: 9.1
##
{ 'command': 'mcd-close-server',
  'data': { 'server-uid': 'uint32' },
  'returns': 'MCDCloseServerResult' }


##
# == Target System Features API
##


##
# @MCDQrySystemsResult:
#
# Return value of @mcd-qry-systems.
#
# @return-status:   Return code.
# @num-systems:     The number of systems the core connection info was returned
#                   for. In case the input value of @num-systems is '0', this is
#                   the number of all available systems.
# @system-con-info: Core connection information of the requested systems.
#
# Since: 9.1
##
{ 'struct': 'MCDQrySystemsResult',
  'data': {
    'return-status'   : 'uint32',
    '*num-systems'    : 'uint32',
    '*system-con-info': [ 'MCDCoreConInfo' ] }}


##
# @mcd-qry-systems:
#
# Function querying the core connection information of a specified number of
# systems.
#
# @start-index: Start index of the queried systems. This refers to an
#               internal list of the target side implementation.
# @num-systems: The number of queried systems starting from the defined
#               @start-index. If it is set to '0', no core connection
#               information is returned but the number of available systems.
#
# Returns: @MCDQrySystemsResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-qry-systems",
#          "arguments": { "start-index": 0,
#                         "num-systems": 1 } }
#     <- {
#            "return": {
#                "num-systems": 1,
#                "system-con-info": [
#                    {
#                        "core-id": 0,
#                        "device": "",
#                        "device-id": 0,
#                        "device-key": "",
#                        "system": "qemu-system-aarch64",
#                        "core": "",
#                        "host": "",
#                        "system-key": "",
#                        "system-instance": "Process ID: 21591",
#                        "acc-hw": "",
#                        "core-type": 0,
#                        "device-type": 0,
#                        "server-key": "",
#                        "server-port": 0
#                    }
#                ],
#                "return-status": 0
#            }
#        }
##
{ 'command': 'mcd-qry-systems',
  'data': {
    'start-index': 'uint32',
    'num-systems': 'uint32' },
  'returns': 'MCDQrySystemsResult' }


##
# @MCDQryDevicesResult:
#
# Return value of @mcd-qry-devices.
#
# @return-status:   Return code.
# @num-devices:     The number of devices the core connection information was
#                   returned for. In case the input value of @num-devices is
#                   '0', this is the number of all available devices for the
#                   selected system.
# @device-con-info: Core connection information of the requested devices.
#
# Since: 9.1
##
{ 'struct': 'MCDQryDevicesResult',
  'data': {
    'return-status'   : 'uint32',
    '*num-devices'    : 'uint32',
    '*device-con-info': [ 'MCDCoreConInfo' ] }}


##
# @mcd-qry-devices:
#
# Function querying the core connection information of a specified number of
# devices of a system.
#
# @system-con-info: Core connection information of the system the devices
#                   are queried from.
# @start-index:     Start index of the requested devices. This refers to
#                   an internal list of the target side implementation.
# @num-devices:     The number of queried devices (e.g. simulated on or
#                   connected to this host computer) starting from the defined
#                   @start-index. If it is set to '0', no core connection
#                   information is returned but the number of all available
#                   devices.
#
# Returns: @MCDQryDevicesResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-qry-devices",
#          "arguments": {
#              "start-index": 0,
#               "num-devices": 1,
#               "system-con-info": {
#                   "core-id": 0,
#                   "device": "",
#                   "device-id": 0,
#                   "device-key": "",
#                   "system": "qemu-system-aarch64",
#                   "core": "",
#                   "host": "",
#                   "system-key": "",
#                   "system-instance": "",
#                   "acc-hw": "",
#                   "core-type": 0,
#                   "device-type": 0,
#                   "server-key": "",
#                   "server-port": 0 } } }
#     <- {
#            "return": {
#                "return-status": 0,
#                "num-devices": 1,
#                "device-con-info": [
#                    {
#                        "core-id": 0,
#                        "device": "virt-10.0",
#                        "device-id": 0,
#                        "device-key": "",
#                        "system": "qemu-system-aarch64",
#                        "core": "",
#                        "host": "",
#                        "system-key": "",
#                        "system-instance": "",
#                        "acc-hw": "",
#                        "core-type": 0,
#                        "device-type": 0,
#                        "server-key": "",
#                        "server-port": 0
#                    }
#                ]
#            }
#        }
##
{ 'command': 'mcd-qry-devices',
  'data': {
    'system-con-info': 'MCDCoreConInfo',
    'start-index'    : 'uint32',
    'num-devices'    : 'uint32' },
  'returns': 'MCDQryDevicesResult' }


##
# @MCDQryCoresResult:
#
# Return value of @mcd-qry-cores.
#
# @return-status: Return code.
#
# @num-cores:     The number of cores the core connection information
#                 is returned for. In case the input value of @num-cores is '0',
#                 this is the number of all available cores for the selected
#                 system or device.
# @core-con-info: Core connection information of the requested cores.
#
# Since: 9.1
##
{ 'struct': 'MCDQryCoresResult',
  'data': {
  'return-status' : 'uint32',
  '*num-cores'    : 'uint32',
  '*core-con-info': [ 'MCDCoreConInfo' ] }}


##
# @mcd-qry-cores:
#
# Function querying the core connection information of a specified number of
# cores of a system/device.
#
# @connection-info: Core connection information of the system or device
#                   the cores are queried from.
# @start-index:     Start index of the requested cores. This refers to an
#                   internal list of the target side implementation.
# @num-cores:       The number of queried cores starting from the defined
#                   @start-index. If it is set to '0', no core connection
#                   information is returned but the number of all available
#                   cores.
#
# Returns: @MCDQryCoresResult
#
# Since: 9.1
#
# .. qmp-example::
#    :title: Multicore
#
#     -> { "execute": "mcd-qry-cores",
#          "arguments": {
#              "start-index": 0,
#               "num-cores": 3,
#               "connection-info": {
#                   "core-id": 0,
#                   "device": "virt-10.0",
#                   "device-id": 0,
#                   "device-key": "",
#                   "system": "",
#                   "core": "",
#                   "host": "",
#                   "system-key": "qemu-system-aarch64",
#                   "system-instance": "",
#                   "acc-hw": "",
#                   "core-type": 0,
#                   "device-type": 0,
#                   "server-key": "",
#                   "server-port": 0 } } }
#     <- {
#            "return": {
#                "num-cores": 3,
#                "core-con-info": [
#                    {
#                        "core-id": 0,
#                        "device": "virt-10.0",
#                        "device-id": 0,
#                        "device-key": "",
#                        "system": "",
#                        "core": "cortex-a53-arm-cpu",
#                        "host": "",
#                        "system-key": "qemu-system-aarch64",
#                        "system-instance": "",
#                        "acc-hw": "",
#                        "core-type": 0,
#                        "device-type": 0,
#                        "server-key": "",
#                        "server-port": 0
#                    },
#                    {
#                        "core-id": 1,
#                        "device": "virt-10.0",
#                        "device-id": 0,
#                        "device-key": "",
#                        "system": "",
#                        "core": "cortex-a53-arm-cpu",
#                        "host": "",
#                        "system-key": "qemu-system-aarch64",
#                        "system-instance": "",
#                        "acc-hw": "",
#                        "core-type": 0,
#                        "device-type": 0,
#                        "server-key": "",
#                        "server-port": 0
#                    },
#                    {
#                        "core-id": 2,
#                        "device": "virt-10.0",
#                        "device-id": 0,
#                        "device-key": "",
#                        "system": "",
#                        "core": "cortex-a53-arm-cpu",
#                        "host": "",
#                        "system-key": "qemu-system-aarch64",
#                        "system-instance": "",
#                        "acc-hw": "",
#                        "core-type": 0,
#                        "device-type": 0,
#                        "server-key": "",
#                        "server-port": 0
#                    }
#                ],
#                "return-status": 0
#            }
#        }
##
{ 'command': 'mcd-qry-cores',
  'data': {
    'connection-info': 'MCDCoreConInfo',
    'start-index'    : 'uint32',
    'num-cores'      : 'uint32' },
  'returns': 'MCDQryCoresResult' }

##
# == Core Connection API
##

##
# @MCDOpenCoreResult:
#
# Return value of @mcd-open-core.
#
# @return-status: Return code.
# @core-uid:      Unique identifier of the core instance.
# @core-con-info: Core connection information of the core instance.
#
# Since: 9.1
##
{ 'struct': 'MCDOpenCoreResult',
  'data': {
    'return-status' : 'uint32',
    '*core-uid'     : 'uint32',
    '*core-con-info': 'MCDCoreConInfo' }}


##
# @mcd-open-core:
#
# Function opening a core connection.
#
# @core-con-info: Unambiguous core information (e.g. from @mcd-qry-cores).
#
# Returns: @MCDOpenCoreResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-open-core",
#          "arguments": {
#              "core-con-info": {
#                  "core-id": 0,
#                  "device": "virt-10.0",
#                  "device-id": 0,
#                  "device-key": "",
#                  "system": "",
#                  "core": "cortex-a53-arm-cpu",
#                  "host": "",
#                  "system-key": "qemu-system-aarch64",
#                  "system-instance": "",
#                  "acc-hw": "",
#                  "core-type": 0,
#                  "device-type": 0,
#                  "server-key": "",
#                  "server-port": 0 } } }
#     <- {
#          "return": {
#              "core-con-info": {
#                  "core-id": 0,
#                  "device": "virt-10.0",
#                  "device-id": 0,
#                  "device-key": "",
#                  "system": "",
#                  "core": "cortex-a53-arm-cpu",
#                  "host": "",
#                  "system-key": "qemu-system-aarch64",
#                  "system-instance": "",
#                  "acc-hw": "",
#                  "core-type": 0,
#                  "device-type": 0,
#                  "server-key": "",
#                  "server-port": 0
#              },
#              "return-status": 0,
#              "core-uid": 1
#          }
#        }
##
{ 'command': 'mcd-open-core',
  'data': { 'core-con-info': 'MCDCoreConInfo' },
  'returns': 'MCDOpenCoreResult' }


##
# @MCDCloseCoreResult:
#
# Return value of @mcd-close-core.
#
# @return-status: Return code.
#
# Since: 9.1
##
{ 'struct': 'MCDCloseCoreResult', 'data': { 'return-status': 'uint32' } }


##
# @mcd-close-core:
#
# Function closing a core connection.
#
# @core-uid: Unique identifier of the open core as returned by @mcd-open-core.
#
# Returns: @MCDCloseCoreResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-close-core", "arguments": { "core-uid": 1 } }
#     <- {
#            "return": {
#                "return-status": 0
#            }
#        }
#     -> { "execute": "mcd-close-core", "arguments": { "core-uid": 1 } }
#     <- {
#            "return": {
#                "return-status": 3
#            }
#        }
#     -> { "execute": "mcd-qry-error-info", "arguments": { "core-uid": 1 } }
#     <- {
#            "return": {
#                "error-str": "core not open",
#                "error-code": 512,
#                "error-events": 0,
#                "return-status": 3
#            }
#        }
##
{ 'command': 'mcd-close-core',
  'data': { 'core-uid': 'uint32' },
  'returns': 'MCDCloseCoreResult' }


##
# @mcd-qry-error-info:
#
# Function allowing the access to detailed error and/or event information after
# an API call.
#
# @core-uid: Unique identifier of the open core as returned by @mcd-open-core.
#
# Returns: @MCDErrorInfo
#
# Since: 9.1
#
# .. qmp-example::
#    :title: Incompatible MCD versions
#
#     -> { "execute": "mcd-initialize",
#          "arguments": { "version-req": { "v-api-major": 2,
#                                          "v-api-minor": 0,
#                                          "author": "" } } }
#     <- {
#            "return": {
#                "return-status": 3
#            }
#        }
#     -> { "execute": "mcd-qry-error-info", "arguments": { "core-uid": 0 }}
#     <- {
#            "return": {
#                "error-str": "incompatible versions",
#                "error-code": 3840,
#                "error-events": 0,
#                "return-status": 3
#            }
#        }
##
{ 'command': 'mcd-qry-error-info',
  'data': { 'core-uid': 'uint32' },
  'returns': 'MCDErrorInfo' }


##
# @MCDQryMemSpacesResult:
#
# Return value of @mcd-qry-mem-spaces.
#
# @return-status:  Return code.
# @num-mem-spaces: The number of returned memory spaces. In case the input value
#                  of @num-mem-spaces is '0', this is the number of all
#                  available memory spaces for the selected core.
# @mem-spaces:     Memory space information.
#
# Since: 9.1
##
{ 'struct': 'MCDQryMemSpacesResult',
  'data': {
    'return-status'  : 'uint32',
    '*num-mem-spaces': 'uint32',
    '*mem-spaces'    : [ 'MCDMemspace' ] }}

##
# @mcd-qry-mem-spaces:
#
# Function querying the available memory spaces for a particular component.
#
# @core-uid:       Unique identifier of the open core as returned by
#                  @mcd-open-core.
# @start-index:    Start index of the requested memory spaces. This refers to
#                  an internal list of the target side implementation.
# @num-mem-spaces: Number of memory spaces, information is requested of. If it
#                  is set to '0', no memory space information is returned but
#                  the number of all available memory spaces for the selected
#                  core.
#
# Returns: @MCDQryMemSpacesResult
#
# Since: 9.1
#
# .. qmp-example::
#    :title: Arm TrustZone
#
#     -> { "execute": "mcd-qry-mem-spaces",
#          "arguments": { "core-uid": 1,
#                         "start-index": 0,
#                         "num-mem-spaces": 20 } }
#     <- {
#          "return": {
#              "mem-spaces": [
#                  {
#                      "mem-space-id": 1,
#                      "bits-per-mau": 0,
#                      "mem-space-name": "system",
#                      "endian": 0,
#                      "max-addr": 0,
#                      "mem-type": 16,
#                      "core-mode-mask-write": 0,
#                      "core-mode-mask-read": 0,
#                      "supported-access-options": 0,
#                      "invariance": 0,
#                      "num-mem-blocks": 0,
#                      "min-addr": 0
#                  },
#                  {
#                      "mem-space-id": 2,
#                      "bits-per-mau": 0,
#                      "mem-space-name": "cpu-memory-0",
#                      "endian": 0,
#                      "max-addr": 0,
#                      "mem-type": 32,
#                      "core-mode-mask-write": 0,
#                      "core-mode-mask-read": 0,
#                      "supported-access-options": 0,
#                      "invariance": 0,
#                      "num-mem-blocks": 0,
#                      "min-addr": 0
#                  },
#                  {
#                      "mem-space-id": 3,
#                      "bits-per-mau": 0,
#                      "mem-space-name": "secure-memory",
#                      "endian": 0,
#                      "max-addr": 0,
#                      "mem-type": 65552,
#                      "core-mode-mask-write": 0,
#                      "core-mode-mask-read": 0,
#                      "supported-access-options": 0,
#                      "invariance": 0,
#                      "num-mem-blocks": 0,
#                      "min-addr": 0
#                  },
#                  {
#                      "mem-space-id": 4,
#                      "bits-per-mau": 0,
#                      "mem-space-name": "cpu-secure-memory-0",
#                      "endian": 0,
#                      "max-addr": 0,
#                      "mem-type": 65568,
#                      "core-mode-mask-write": 0,
#                      "core-mode-mask-read": 0,
#                      "supported-access-options": 0,
#                      "invariance": 0,
#                      "num-mem-blocks": 0,
#                      "min-addr": 0
#                  },
#                  {
#                      "mem-space-id": 5,
#                      "bits-per-mau": 0,
#                      "mem-space-name": "GDB Registers",
#                      "endian": 0,
#                      "max-addr": 0,
#                      "mem-type": 1,
#                      "core-mode-mask-write": 0,
#                      "core-mode-mask-read": 0,
#                      "supported-access-options": 0,
#                      "invariance": 0,
#                      "num-mem-blocks": 0,
#                      "min-addr": 0
#                  }
#              ],
#              "return-status": 0,
#              "num-mem-spaces": 5
#          }
#        }
##
{ 'command': 'mcd-qry-mem-spaces',
  'data': {
     'core-uid'      : 'uint32',
     'start-index'   : 'uint32',
     'num-mem-spaces': 'uint32' },
  'returns': 'MCDQryMemSpacesResult' }


##
# @MCDQryRegGroupsResult:
#
# Return value of @mcd-qry-reg-groups.
#
# @return-status:  Return code.
# @num-reg-groups: Number of returned register groups. In case the input value
#                  of @num-reg-groups is '0', this is the number of all
#                  available register groups for the selected core.
# @reg-groups:     Register group information.
#
# Since: 9.1
##
{ 'struct': 'MCDQryRegGroupsResult',
  'data': {
    'return-status'  : 'uint32',
    '*num-reg-groups': 'uint32',
    '*reg-groups'    : [ 'MCDRegisterGroup' ] }}


##
# @mcd-qry-reg-groups:
#
# Function querying the register groups defined for a particular component.
#
# @core-uid:       Unique ID of the core the calling function addresses.
# @start-index:    Start index of the requested register groups. This refers
#                  to an internal list of the target side implementation.
# @num-reg-groups: Number of register groups, information is requested of. If
#                  it is set to '0', no register groups information is returned
#                  but the number of all available register groups for the
#                  selected core.
#
# Returns: @MCDQryRegGroupsResult
#
# Since: 9.1
##
{ 'command': 'mcd-qry-reg-groups',
  'data': {
    'core-uid'      : 'uint32',
    'start-index'   : 'uint32',
    'num-reg-groups': 'uint32' },
  'returns': 'MCDQryRegGroupsResult' }


##
# @MCDQryRegMapResult:
#
# Return value of @mcd-qry-reg-map.
#
# @return-status: Return code.
# @num-regs:      Number of returned registers. In case the input value of
#                 @num-regs is '0', this is the number of all available register
#                 for the selected register group.
# @reg-info:      Register information.
#
# Since: 9.1
##
{ 'struct': 'MCDQryRegMapResult',
  'data': {
    'return-status': 'uint32',
    '*num-regs'    : 'uint32',
    '*reg-info'    : [ 'MCDRegisterInfo' ] }}

##
# @mcd-qry-reg-map:
#
# Function querying the register information of a particular register group.
#
# @core-uid:     Unique ID of the core the calling function addresses.
# @reg-group-id: ID of the register group detailed register information is
#                requested for.
# @start-index:  Start index of the requested registers. This refers to an
#                internal list of the target side implementation.
# @num-regs:     Number of registers, information is requested of. If it
#                is set to '0', no register information is returned but the
#                number of all available registers within for the selected
#                register group.
#
# Returns: @MCDQryRegMapResult
#
# Since: 9.1
#
# .. qmp-example::
#
#     -> { "execute": "mcd-qry-reg-groups",
#          "arguments": { "core-uid": 1,
#                         "start-index": 0,
#                         "num-reg-groups": 3 } }
#     <- {
#            "return": {
#                "reg-groups": [
#                    {
#                        "reg-group-id": 1,
#                        "reg-group-name": "org.gnu.gdb.aarch64.core",
#                        "n-registers": 34
#                    },
#                    {
#                        "reg-group-id": 2,
#                        "reg-group-name": "org.gnu.gdb.aarch64.fpu",
#                        "n-registers": 34
#                    },
#                    {
#                        "reg-group-id": 3,
#                        "reg-group-name": "org.qemu.gdb.arm.sys.regs",
#                        "n-registers": 210
#                    }
#                ],
#                "return-status": 0,
#                "num-reg-groups": 3
#            }
#        }
#     -> { "execute": "mcd-qry-reg-map",
#          "arguments": { "core-uid": 1,
#                         "reg-group-id": 1,
#                         "start-index": 0,
#                         "num-regs": 34 } }
#     <- {
#            "return": {
#                "reg-info": [
#                    {
#                        "reg-group-id": 1,
#                        "regname": "x0",
#                        "side-effects-read": false,
#                        "addr": {
#                            "mem-space-id": 5,
#                            "addr-space-id": 0,
#                            "address": 0,
#                            "addr-space-type": 0
#                        },
#                        "reg-type": 0,
#                        "core-mode-mask-write": 0,
#                        "core-mode-mask-read": 0,
#                        "regsize": 64,
#                        "hw-thread-id": 0,
#                        "side-effects-write": false
#                    },
#                    {
#                        "reg-group-id": 1,
#                        "regname": "x1",
#                        "side-effects-read": false,
#                        "addr": {
#                            "mem-space-id": 5,
#                            "addr-space-id": 0,
#                            "address": 1,
#                            "addr-space-type": 0
#                        },
#                        "reg-type": 0,
#                        "core-mode-mask-write": 0,
#                        "core-mode-mask-read": 0,
#                        "regsize": 64,
#                        "hw-thread-id": 0,
#                        "side-effects-write": false
#                    },
#                    {
#                        "reg-group-id": 1,
#                        "regname": "x2",
#                        "side-effects-read": false,
#                        "addr": {
#                            "mem-space-id": 5,
#                            "addr-space-id": 0,
#                            "address": 2,
#                            "addr-space-type": 0
#                        },
#                        "reg-type": 0,
#                        "core-mode-mask-write": 0,
#                        "core-mode-mask-read": 0,
#                        "regsize": 64,
#                        "hw-thread-id": 0,
#                        "side-effects-write": false
#                    },
#                    {
#                        "reg-group-id": 1,
#                        "regname": "x3",
#                        "side-effects-read": false,
#                        "addr": {
#                            "mem-space-id": 5,
#                            "addr-space-id": 0,
#                            "address": 3,
#                            "addr-space-type": 0
#                        },
#                        "reg-type": 0,
#                        "core-mode-mask-write": 0,
#                        "core-mode-mask-read": 0,
#                        "regsize": 64,
#                        "hw-thread-id": 0,
#                        "side-effects-write": false
#                    },
#                    ...
#                ],
#                "return-status": 0,
#                "num-regs": 34
#            }
#        }
##
{ 'command': 'mcd-qry-reg-map',
  'data': {
    'core-uid': 'uint32',
    'reg-group-id': 'uint32',
    'start-index': 'uint32',
    'num-regs': 'uint32' },
  'returns': 'MCDQryRegMapResult' }


##
# == Target Execution Control API
##


##
# @MCDRunResult:
#
# Return value of @MCDRunResult.
#
# @return-status: Return code.
#
# Since: 9.1
##
{ 'struct': 'MCDRunResult', 'data': { 'return-status': 'uint32' } }


##
# @mcd-run:
#
# Function starting execution on a particular core.
#
# @core-uid: Unique identifier of the open core as returned by @mcd-open-core.
# @global:   Set to "TRUE" if all cores of a system shall start execution.
#            Otherwise, starting execution of selected core only.
#
# Returns: @MCDRunResult
#
# Since: 9.1
##
{ 'command': 'mcd-run',
  'data': {
    'core-uid': 'uint32',
    'global'  : 'bool' },
  'returns': 'MCDRunResult' }


##
# @MCDStopResult:
#
# Return value of @mcd-stop.
#
# @return-status: Return code.
#
# Since: 9.1
##
{ 'struct': 'MCDStopResult', 'data': { 'return-status': 'uint32' } }


##
# @mcd-stop:
#
# Function stopping execution on a particular core.
#
# @core-uid: Unique identifier of the open core as returned by @mcd-open-core.
# @global:   Set to "TRUE" if all cores of a system shall stop execution.
#            Otherwise, stopping execution of selected core only.
#
# Returns: @MCDStopResult
#
# Since: 9.1
##
{ 'command': 'mcd-stop',
  'data': {
    'core-uid': 'uint32',
    'global'  : 'bool' },
  'returns': 'MCDStopResult' }

##
# @MCDSetGlobalResult:
#
# Return value of @mcd-set-global.
#
# @return-status: Return code.
#
# Since: 9.1
##
{ 'struct': 'MCDSetGlobalResult', 'data': { 'return-status': 'uint32' } }


##
# @mcd-set-global:
#
# Function enabling/disabling global stop and run activities on this core.
#
# @core-uid: Unique identifier of the open core as returned by @mcd-open-core.
# @enable:   Set to "TRUE" if this core should perform global run or stop
#            activities.
#
# Returns: @MCDSetGlobalResult
#
# Since: 9.1
##
{ 'command': 'mcd-set-global',
  'data': {
    'core-uid': 'uint32',
    'enable'  : 'bool' },
  'returns': 'MCDSetGlobalResult' }
